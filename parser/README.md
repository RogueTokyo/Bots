# Парсер Telegram каналов

Бот для поиска сообщений в Telegram каналах по ключевым словам в реальном времени с использованием API Telethon.

## Быстрый старт

```bash
# Установите зависимости
pip install -r requirements.txt

# Создайте config.env с API ключами
# TG_BOT_TOKEN=ваш_токен
# TG_APP_ID=ваш_app_id
# TG_APP_HASH=ваш_app_hash

# Авторизуйтесь в Telethon (один раз)
python3 auth_telethon.py

# Запустите бота
python3 run_bot.py
```

## Структура проекта

```
parser/
├── Парсер.py           # Основной модуль бота
├── utils.py            # Утилиты
├── auth_telethon.py    # Скрипт авторизации
├── test_parsing.py     # Скрипт тестирования
├── run_bot.py          # Запуск бота
├── config.env          # Конфигурация (создайте сами)
├── requirements.txt    # Зависимости
├── cache/              # Кеш результатов поиска
└── requests/           # Сохраненные запросы
```

## Возможности

- Поиск в реальном времени в Telegram каналах через API
- Кеширование результатов (1 час) с опцией принудительного обновления
- Табличный и текстовый формат вывода
- Пагинация результатов поиска
- Релевантные выдержки с ключевыми словами
- Нечеткий поиск с поддержкой морфологии
- Валидация входных данных
- Поддержка публичных каналов и групп

## Конфигурация

Создайте файл `config.env`:
```env
TG_BOT_TOKEN=ваш_токен_бота
TG_APP_ID=ваш_app_id
TG_APP_HASH=ваш_app_hash
TG_SESSION_NAME=parser_session
```

Получите API ключи:
- Токен бота: https://t.me/botfather
- App ID & Hash: https://my.telegram.org/auth

## Команды

- `/start` - Начать использование бота
- `/list` - Показать сохраненные запросы

## Зависимости

- aiogram>=3.0.0
- telethon>=1.0.0
